(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2f218d65"],{"0610":function(t,e,a){t.exports=a.p+"media/audio.0e00ba39.mp3"},"27d1":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"call text-center",class:{black:2!=t.step},on:{mouseup:t.onMouseUp,touchend:t.onMouseUp,mouseout:t.onMouseUp,touchcancel:t.onMouseUp}},[0==t.step?i("div",{staticClass:"m-0"},[i("div",{staticClass:"ra-main-content"},[t.localStream||t.activatingDevice?t._e():i("div",{staticClass:"activating text-center"},[t._v(" "+t._s(t.$t("CALL.CALL.ACTIVATING_DEVICE"))+" ")]),i("div",[i("div",{staticClass:"icon-round grey-1 text-center p-0 mx-auto"},[t._v(t._s(t.prefix))]),i("transition",{attrs:{name:"slide-fade",mode:"out-in"}},[i("div",{staticClass:"my-4"},[i("div",{staticClass:"mt-5 mb-4 status"},[0==t.callingStep?i("span",[t._v(t._s(t.$t("CALL.CALL.CALLING_STATUS_0")))]):t._e(),1==t.callingStep?i("span",[t._v(t._s(t.$t("CALL.CALL.CALLING_STATUS_1")))]):t._e(),2==t.callingStep?i("span",[t._v(t._s(t.$t("CALL.CALL.CALLING_STATUS_2")))]):t._e(),3==t.callingStep?i("span",[t._v(t._s(t.$t("CALL.CALL.CALLING_STATUS_3")))]):t._e(),4==t.callingStep?i("span",[t._v(t._s(t.$t("CALL.CALL.CALLING_STATUS_4")))]):t._e(),2!=t.callingStep?i("div",{ref:"loading",staticClass:"loading"}):t._e()]),i("div",{staticClass:"user-name"},[t._v(" "+t._s(1!=t.callingStep?this.targetName:"")+" ")]),1!=t.callingStep?i("font-awesome-icon",{staticClass:"mt-5",attrs:{icon:"video-slash",size:"8x"}}):t._e()],1)]),2!=t.callingStep?i("b-button",{staticClass:"icon-rect red text-center",attrs:{disabled:4==t.callingStep||!t.localStream||t.isCancel},on:{click:t.cancelCall}},[i("font-awesome-icon",{attrs:{icon:"phone-alt",size:"2x",transform:{rotate:135}}})],1):t._e(),1==t.callingStep?i("b-button",{staticClass:"icon-rect text-center ml-4",class:[t.isMuted?"active-btn":"grey-2"],on:{click:t.toggleMute}},[i("font-awesome-icon",{attrs:{icon:"microphone-slash",size:"2x"}})],1):t._e(),3==t.callingStep||4==t.callingStep?i("b-button",{staticClass:"icon-rect green text-center ml-4",attrs:{disabled:4==t.callingStep||!t.localStream},on:{click:t.acceptCall}},[i("font-awesome-icon",{attrs:{icon:"phone-alt",size:"2x"}})],1):t._e()],1)])]):t._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:1==t.step,expression:"step == 1"}],staticClass:"step-1"},[i("div",{staticClass:"upper-section",on:{mousemove:t.onMouseMove,touchmove:t.onMouseMove}},[i("div",{staticClass:"video-section"},[i("video",{ref:"recordVideo",staticClass:"d-none"}),t.isGlasses?i("div",[i("div",{staticClass:"video-container"},[i("video",{ref:"video",class:{index:t.isPaused||t.isAppPaused},attrs:{autoplay:"",playsinline:"",id:"video"},on:{play:t.resizeAndSendViewSize}})])]):t._e(),t.isGlasses?t._e():i("div",[i("div",{staticClass:"video-container",class:{minified:t.isPaused}},[i("video",{ref:"video",attrs:{autoplay:"",playsinline:"",id:"video"},on:{play:t.resizeAndSendViewSize}})])]),i("canvas",{ref:"cv",staticClass:"canvas",attrs:{id:"cv"}}),i("canvas",{ref:"cvCover",staticClass:"canvas",class:{"brush-cursor":t.isGlasses&&t.isPaused||!t.isGlasses&&t.changeCursor},attrs:{id:"cvCover"},on:{mousedown:t.onMouseDown,touchstart:t.onMouseDown}}),i("canvas",{ref:"emptyCv",staticStyle:{display:"none"}}),i("canvas",{ref:"backupCv",staticStyle:{display:"none"}}),i("canvas",{ref:"recordCv",staticClass:"canvas width-unset recordCv",attrs:{id:"recordCv"}}),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.isPaused&&t.isPaused,expression:"!isPaused && isPaused"}],ref:"arrow-section",staticClass:"arrow-section"},t._l(t.pointers,(function(e){return i("font-awesome-icon",{key:e.sn,staticClass:"arrow",class:[t.arrowColorList[e.colorIndex],0==e.newPosX?"float-left":"float-right"],style:{top:e.top,left:e.left},attrs:{icon:0==e.newPosX?"caret-left":"caret-right",size:"3x"}})})),1)])]),i("div",{staticClass:"lower-section"},[i("div",{staticClass:"function"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.isPaused,expression:"isPaused"}],staticClass:"draw-tools mr-3"},[i("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",modifiers:{hover:!0,top:!0}}],staticClass:"draw-function-btn grey-1 p-0 mx-2 text-center undo",attrs:{title:t.$t("CALL.CALL.TIP_UNDO")},on:{click:function(e){return t.undo(!0)}}},[i("img",{staticClass:"ml-0",attrs:{src:a("8d27")}})]),i("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",modifiers:{hover:!0,top:!0}}],staticClass:"draw-function-btn color-picker mx-2",class:t.colorList[t.selectedColorId].color,attrs:{title:t.$t("CALL.CALL.TIP_COLOR_PICKER")},on:{click:function(e){t.isChoosingColor=!t.isChoosingColor,t.isChoosingTool=!1}}},[i("img",{staticClass:"ml-0",attrs:{src:""}})]),i("transition",{attrs:{name:"fade"}},[t.isChoosingColor?i("div",{staticClass:"color-picker-component"},[i("div",{staticClass:"color-picker-list row"},t._l(t.colorList,(function(e){return i("div",{key:e.id,staticClass:"col-3 p-0"},[i("div",{staticClass:"colors",class:e.color,on:{click:function(a){return t.changeColor(e.id)}}})])})),0)]):t._e()]),-1!=t.drawFunction?i("div",{staticClass:"divider mx-2"}):t._e(),-1!=t.drawFunction?i("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",modifiers:{hover:!0,top:!0}}],staticClass:"draw-function-btn tool-picker mx-2",attrs:{title:t.$t("CALL.CALL.TIP_DRAW_TOOL")},on:{click:function(e){t.isChoosingTool=!t.isChoosingTool,t.isChoosingColor=!1}}},[0==t.drawFunction?i("font-awesome-icon",{attrs:{icon:"paint-brush",size:"2x"}}):t._e(),1==t.drawFunction?i("img",{staticClass:"ml-0",attrs:{src:a("00a8")}}):t._e(),2==t.drawFunction?i("img",{staticClass:"ml-0",attrs:{src:a("b746")}}):t._e(),3==t.drawFunction?i("img",{staticClass:"ml-0",attrs:{src:a("8572")}}):t._e()],1):t._e(),-1!=t.drawFunction?i("transition",{attrs:{name:"fade"}},[t.isChoosingTool?i("div",{staticClass:"curve-tools"},[i("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",modifiers:{hover:!0,top:!0}}],staticClass:"curve-function-btn mx-1",class:[3==t.drawFunction?"active":""],attrs:{title:t.$t("CALL.CALL.TIP_OVAL")},on:{click:function(e){return t.changeDrawFunction(3)}}},[3!=t.drawFunction?i("img",{staticClass:"ml-0",attrs:{src:a("7206")}}):t._e(),3==t.drawFunction?i("img",{staticClass:"ml-0",attrs:{src:a("8572")}}):t._e()]),i("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",modifiers:{hover:!0,top:!0}}],staticClass:"curve-function-btn mx-1",class:[2==t.drawFunction?"active":""],attrs:{title:t.$t("CALL.CALL.TIP_FREEHAND_ARROW")},on:{click:function(e){return t.changeDrawFunction(2)}}},[2!=t.drawFunction?i("img",{staticClass:"ml-0",attrs:{src:a("d731")}}):t._e(),2==t.drawFunction?i("img",{staticClass:"ml-0",attrs:{src:a("b746")}}):t._e()]),i("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",modifiers:{hover:!0,top:!0}}],staticClass:"curve-function-btn mx-1",class:[1==t.drawFunction?"active":""],attrs:{title:t.$t("CALL.CALL.TIP_STRAIGHT_ARROW")},on:{click:function(e){return t.changeDrawFunction(1)}}},[1!=t.drawFunction?i("img",{staticClass:"ml-0",attrs:{src:a("9694")}}):t._e(),1==t.drawFunction?i("img",{staticClass:"ml-0",attrs:{src:a("00a8")}}):t._e()]),i("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",modifiers:{hover:!0,top:!0}}],staticClass:"curve-function-btn freehand mx-1",class:[0==t.drawFunction?"active":""],attrs:{title:t.$t("CALL.CALL.TIP_FREEHAND")},on:{click:function(e){return t.changeDrawFunction(0)}}},[i("font-awesome-icon",{attrs:{icon:"paint-brush",size:"2x"}})],1)]):t._e()]):t._e()],1),t.isGlasses&&!t.isPaused?i("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",modifiers:{hover:!0,top:!0}}],staticClass:"function-btn grey-1 p-0 mx-2 text-center",class:[t.isSharing||t.isAppPaused?"disabled-button":"grey-1"],attrs:{title:t.$t("CALL.CALL.TIP_PAUSE")},on:{click:t.pause}},[i("font-awesome-icon",{attrs:{icon:"pause",size:"1x"}})],1):t._e(),t.isPaused?i("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",modifiers:{hover:!0,top:!0}}],staticClass:"function-btn grey-1 p-0 mx-2 text-center",attrs:{title:t.$t("CALL.CALL.TIP_RESUME")},on:{click:t.resume}},[i("font-awesome-icon",{attrs:{icon:"play",size:"1x"}})],1):t._e(),i("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",modifiers:{hover:!0,top:!0}}],staticClass:"function-btn grey-1 p-0 mx-2 text-center",class:[t.isMuted?"blue":"grey-1"],attrs:{title:[t.isMuted?t.$t("CALL.CALL.TIP_MIC_OFF"):t.$t("CALL.CALL.TIP_MIC_ON")]},on:{click:function(e){return t.toggleMute(!t.isMuted)}}},[i("font-awesome-icon",{attrs:{icon:"microphone-slash",size:"1x"}})],1),i("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",modifiers:{hover:!0,top:!0}}],staticClass:"function-btn p-0 mx-2 text-center",class:[t.isTurnOn?"blue":"grey-1",t.isSharing||t.isAppPaused?"disabled-button":"grey-1"],attrs:{title:[t.isTurnOn?t.$t("CALL.CALL.TIP_FLASH_ON"):t.$t("CALL.CALL.TIP_FLASH_OFF")]},on:{click:t.toggleLight}},[t.isTurnOn?t._e():i("img",{staticClass:"flashlight ml-0",attrs:{src:a("0121")}}),t.isTurnOn?i("img",{staticClass:"flashlight ml-0",attrs:{src:a("3a00")}}):t._e()]),!t.isPaused&&t.isGlasses?i("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",modifiers:{hover:!0,top:!0}}],staticClass:"function-btn grey-1 p-0 mx-2 text-center",class:[t.isSharing||t.isAppPaused?"disabled-button":"grey-1"],attrs:{title:t.$t("CALL.CALL.TIP_SEND_FILE")},on:{click:t.showFileDialog}},[i("font-awesome-icon",{attrs:{icon:"file-export",size:"1x"}}),i("input",{ref:"selectFile",attrs:{type:"file",id:"selectFileToSend",name:"selectFileToSend",accept:".pdf, .png, .jpg, .jpeg",hidden:""},on:{change:t.selectFileToSend}})],1):t._e(),!t.isGlasses||t.isPaused||t.isSharing?t._e():i("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",modifiers:{hover:!0,top:!0}}],staticClass:"function-btn grey-1 p-0 mx-2 text-center",class:[t.isSendingFile||t.isAppPaused?"disabled-button":"grey-1"],attrs:{title:t.$t("CALL.CALL.TIP_START_SHARE_SCREEN")},on:{click:t.showDesktop}},[i("img",{staticClass:"recording",attrs:{src:a("5d91")}})]),t.isGlasses&&!t.isPaused&&t.isSharing?i("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",modifiers:{hover:!0,top:!0}}],staticClass:"function-btn white p-0 mx-2 text-center",attrs:{title:t.$t("CALL.CALL.TIP_STOP_SHARE_SCREEN")},on:{click:t.stopShowDesktop}},[i("img",{staticClass:"recording",attrs:{src:a("7c15")}})]):t._e(),t.isRecording||t.isPaused?t._e():i("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",modifiers:{hover:!0,top:!0}}],staticClass:"function-btn grey-1 p-0 mx-2 text-center",attrs:{id:"btnStartRecording",title:t.$t("CALL.CALL.TIP_START_RECORDING")},on:{click:t.btnStartRecording}},[i("img",{staticClass:"recording ml-0",attrs:{src:a("3726")}})]),t.isRecording&&!t.isPaused?i("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",modifiers:{hover:!0,top:!0}}],staticClass:"function-btn white p-0 mx-2 text-center",attrs:{id:"btnStopRecording",title:t.$t("CALL.CALL.TIP_STOP_RECORDING")},on:{click:t.btnStopRecording}},[i("img",{staticClass:"recording ml-0",attrs:{src:a("6817")}})]):t._e(),i("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",modifiers:{hover:!0,top:!0}}],staticClass:"function-btn red p-0 mx-2 text-center",attrs:{title:t.$t("CALL.CALL.TIP_END_CALL")},on:{click:t.hangup}},[i("font-awesome-icon",{attrs:{icon:"phone-alt",size:"1x"}})],1)])])]),2==t.step?i("div",{staticClass:"row m-0"},[i("RAHeader",{attrs:{title:t.$t("CALL.CALL.MEETING_SUMMARY"),showCancelBtn:"",pageUrl:{name:"RARating"},isCalling:t.isCalling,callName:t.receiveCallData.callName},on:{accept:t.acceptCallInCapture,decline:t.acceptCallInCapture}}),i("div",{staticClass:"screen-capture-section mx-auto",class:{"top-210":t.isCalling}},[i("div",{staticClass:"my-3"},[t._v(" 通話時間 "+t._s(t.totalMins>9?t.totalMins:"0"+t.totalMins)+":"+t._s(t.totalSecs>9?t.totalSecs:"0"+t.totalSecs)+" ")]),i("div",{staticClass:"mb-4"},[t._v("請先完成截圖儲存後再離開此頁，以免遺失截圖")]),i("div",{staticClass:"checkbox-list row"},t._l(t.captures,(function(e,a){return i("div",{key:a,class:[t.isGlasses?"col-6":"col-4"]},[i("input",{attrs:{type:"checkbox",id:a},domProps:{checked:e.selected},on:{click:function(e){return t.toggleSelect(a)}}}),i("img",{attrs:{src:e.dataUrl}}),i("label",{attrs:{for:a}},[i("font-awesome-icon",{attrs:{icon:"check-circle",size:"3x"}})],1)])})),0)]),i("div",{staticClass:"footer"},[i("div",{staticClass:"button-section mx-auto"},[i("b-button",{staticClass:"ra-confirm-btn-alt mt-4 float-left",on:{click:t.doSelectAll}},[t.selectAll?t._e():i("span",[t._v(t._s(t.$t("CALL.CALL.SELECT_ALL")))]),t.selectAll?i("span",[t._v(t._s(t.$t("CALL.CALL.UNSELECT_ALL")))]):t._e()]),i("b-button",{staticClass:"ra-confirm-btn mt-4 float-right",attrs:{disabled:t.emptySelect},on:{click:function(e){return t.downloadZip()}}},[t._v(t._s(t.$t("CALL.CALL.DOWNLOAD")))])],1)]),i("b-modal",{attrs:{id:"downloadZipModal",title:t.$t("CALL.CALL.DOWNLOAD_CAPTURE"),size:"md","hide-header-close":"","hide-footer":"",centered:""}},[i("div",{staticClass:"ra-form-group my-3 mx-auto text-center"},[t._v(" "+t._s(t.$t("CALL.CALL.DOWNLOADING"))+" "),i("b-progress",{staticClass:"download-progress col-10 p-0",attrs:{value:t.downloadProgress,animated:""}})],1)])],1):t._e(),i("b-alert",{staticClass:"mt-3 mx-auto auth-alert",attrs:{show:t.dismissCountDown,variant:"dark"},on:{dismissed:function(e){t.dismissCountDown=0},"dismiss-count-down":t.countDownChanged}},[t.dismissCountDownPaused?t._e():i("div",[1==t.shareState&&0==t.torchTip?i("p",[t._v(" "+t._s(t.$t("CALL.CALL.SHARE_STATE_1"))+" ")]):t._e(),2==t.shareState&&0==t.torchTip&&""==t.showMessage?i("p",[t._v(" "+t._s(t.$t("CALL.CALL.SHARE_STATE_2"))+" ")]):t._e(),4==t.torchTip?i("p",[t._v(t._s(t.$t("CALL.CALL.TORCH_TIP_4")))]):t._e(),3==t.torchTip?i("p",[t._v(t._s(t.$t("CALL.CALL.TORCH_TIP_3")))]):t._e(),2==t.torchTip?i("p",[t._v(" "+t._s(t.$t("CALL.CALL.TORCH_TIP_2"))+" ")]):t._e(),1==t.torchTip&&t.isTurnOn?i("p",[t._v(t._s(t.$t("CALL.CALL.TORCH_TIP_1_ON")))]):t._e(),1!=t.torchTip||t.isTurnOn?t._e():i("p",[t._v(t._s(t.$t("CALL.CALL.TORCH_TIP_1_OFF")))]),t.showMessage?i("p",[t._v(t._s(t.showMessage))]):t._e()])]),i("b-alert",{staticClass:"mt-3 mx-auto auth-alert",attrs:{show:t.dismissCountDownPaused,variant:"dark"},on:{dismissed:function(e){t.dismissCountDownPaused=0},"dismiss-count-down":t.countDownChanged}},[t.dismissCountDownPaused?i("p",[t._v(t._s(t.targetName)+" "+t._s(t.$t("CALL.CALL.APP_PAUSE")))]):t._e()]),i("b-modal",{attrs:{id:"recordCanceledModal",title:t.$t("CALL.CALL.CALL_END"),size:"md","hide-header-close":"","hide-footer":"",centered:""}},[i("div",{staticClass:"ra-form-group my-3 mx-auto text-center"},[t._v(" "+t._s(t.$t("CALL.CALL.DOWNLOADING"))+" "),i("b-button",{staticClass:"ra-confirm-btn mt-4 mb-3 mx-auto",attrs:{type:"submit","aria-label":"Close","data-dismiss":"modal"},on:{click:function(e){return t.closeModal("recordCanceledModal")}}},[t._v(t._s(t.$t("GENERAL.OK")))])],1)]),t.isGlasses&&t.sendFileModal&&1==t.step?i("div",{staticClass:"send-file-modal"},[t._v(" "+t._s(t.sendFileTitle)+" "),i("div",{staticClass:"ra-form-group my-3 mx-auto text-center"},[1==t.transferStep||2==t.transferStep?i("div",{staticClass:"row"},[i("font-awesome-icon",{staticClass:"grey col-2 mt-2",attrs:{icon:"file",size:"2x"}}),i("div",{staticClass:"col-10"},[i("p",{staticClass:"text-left",staticStyle:{"font-size":"12px",margin:"0"}},[t._v(t._s(t.sendFileName))]),i("p",{staticClass:"text-left",staticStyle:{"font-size":"12px",color:"#b7b7b7",margin:"0"}},[t._v(t._s(t.sendFileSize)+" bytes")]),1==t.transferStep||2==t.transferStep?i("div",{staticClass:"row m-0 p-0"},[i("b-progress",{staticClass:"col-10 m-0 p-0",attrs:{value:t.sendingRate,animated:""}}),i("p",{staticClass:"col-2 m-0 p-0"},[t._v(t._s(t.sendingRate)+" %")])],1):t._e()])],1):t._e(),1==t.transferStep||2==t.transferStep?i("b-button",{staticClass:"ra-confirm-btn mt-4 mb-3 mx-auto",attrs:{type:"submit","aria-label":"Close","data-dismiss":"modal"},on:{click:function(e){return t.stopSendingFile()}}},[t._v(t._s(t.$t("CALL.CALL.CANCEL_SEND_FILE")))]):t._e(),4==t.transferStep?i("b-button",{staticClass:"ra-confirm-btn mt-4 mb-3 mx-auto",attrs:{type:"submit","aria-label":"Close","data-dismiss":"modal"},on:{click:function(e){return t.stopSendingFile()}}},[t._v(t._s(t.$t("GENERAL.OK")))]):t._e()],1)]):t._e(),i("b-modal",{attrs:{id:"trialEndModal",title:t.$t("CALL.CALL.APP_TRIAL_END"),size:"md","hide-header-close":"","hide-footer":"",centered:""}},[i("div",{staticClass:"ra-form-group my-3 mx-auto text-center"},[t._v(" "+t._s(t.$t("CALL.CALL.APP_TRIAL_END_TEXT"))+" "),i("b-button",{staticClass:"ra-confirm-btn mt-4 mb-3 mx-auto",attrs:{type:"submit","aria-label":"Close","data-dismiss":"modal"},on:{click:function(e){return t.closeModal("trialEndModal")}}},[t._v(t._s(t.$t("GENERAL.OK")))])],1)]),t.audioRing?i("audio",{ref:"audio",staticClass:"d-none",attrs:{id:"welcome",autoplay:"",loop:""}},[i("source",{attrs:{src:a("0610"),type:"audio/mpeg"}})]):t._e()],1)},o=[],n=a("2909"),s=a("ade3"),r=a("b85c"),c=a("1da1"),d=(a("96cf"),a("d3b7"),a("ace4"),a("5cc6"),a("907a"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("d5d6"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("170b"),a("b39a"),a("72f7"),a("ac1f"),a("00b4"),a("b0c0"),a("fb6a"),a("1276"),a("99af"),a("b680"),a("c19f"),a("4a9b"),a("e9c4"),a("25f0"),a("7db0"),a("159b"),a("a15b"),a("d81d"),a("b64b"),a("a434"),a("caad"),a("3ca3"),a("ddb0"),a("2b3d"),a("9861"),a("5319"),a("38cf"),a("1913"),a("21a6")),l=a("235f"),h=a("c4e3"),f=a.n(h),u=a("a9ee"),p=a.n(u),v=a("5fb0"),m=a("e7e9"),g=64e3,C=0,w=1,b=2,x=3,S=4,L=5,k=6,A=7,T=8,_=9,y=10,D=11,R=12,I=13,M=14,P=15,F=16,O=17,E=18,N=19,$=20,z=21,U=22,j=23,G=100,V=0,H=.5,W=1,B=2,X=3,Y=0,J=1,Z=2,K=720,q=.5,Q=[],tt=[];function et(t,e,a,i,o,n){this.type=t,this.x1=e,this.y1=a,this.x2=i,this.y2=o,this.selectedColorId=n}var at=function(){},it=function(){},ot=function(){},nt={},st={name:"Call",components:{RAHeader:l["a"]},props:{callName:String,callAccount:String,callRoomUUID:String,showCallerScreen:String,deviceType:String,isFromRating:Boolean},data:function(){return{componentId:"Call",isRegistered:!1,step:0,callingStep:0,activatingDevice:!0,localStream:null,displayStream:null,remoteStream:null,prefix:"",pc:null,ws:null,user:"",name:"",shareState:0,commandChannel:null,isPaused:!1,isTurnOn:!1,isMuted:!1,isChoosingColor:!1,isChoosingTool:!1,selectedColorId:2,colorList:[{id:0,name:"blue",color:"brush-blue",colorCode:"#00b7ff"},{id:1,name:"red",color:"brush-red",colorCode:"#ff0000"},{id:2,name:"magenta",color:"brush-magenta",colorCode:"#ff00cc"},{id:3,name:"orange",color:"brush-orange",colorCode:"#ff6600"},{id:4,name:"black",color:"brush-black",colorCode:"#000"},{id:5,name:"yellow",color:"brush-yellow",colorCode:"#ffff00"},{id:6,name:"white",color:"brush-white",colorCode:"#eee"},{id:7,name:"green",color:"brush-green",colorCode:"#009933"}],arrowColorList:["arrow-blue","arrow-red","arrow-magenta","arrow-orange","arrow-black","arrow-yellow","arrow-white","arrow-green"],messageIdList:[{id:1,name:"MSG_ENV_SAVING",desc:"空間環境儲存中，請稍候再標註！"},{id:2,name:"MSG_NO_FEATURE_POINTS",desc:"此處無特徵點，無法標註"},{id:3,name:"MSG_ANNOTATION_TOO_LONG",desc:"標註線段太長或太複雜了，請重新標註"},{id:4,name:"MSG_NEED_ENV_LEARNING",desc:"此區域需加強環境學習，請先前後移動裝置再繪製"},{id:5,name:"MSG_WAIT_ENV_LEARNING",desc:"等待對方將鏡頭轉向先前分享的畫面以恢復標註位置。"},{id:6,name:"MSG_ENV_LEARNING_DONE",desc:"標註已歸位！"},{id:7,name:"MSG_PAUSE_SHARING",desc:"對方已停止分享畫面，請稍候！"},{id:8,name:"MSG_RESUME_SHARING",desc:"對方繼續分享畫面"},{id:9,name:"MSG_ANNOTATION_TOO_SHORT",desc:"標註太短，請重試"},{id:10,name:"MSG_ANNOTATION_TOO_FAST",desc:"標註速度過快，請再畫一次"}],loading:!0,selectAll:!1,emptySelect:!1,dismissSecs:3,dismissCountDown:0,dismissCountDownRecord:0,dismissCountDownPaused:0,torchTip:0,isDrawing:!1,lineWidth:5,minimumLength:5,captures:[],pointers:[],isGlasses:!1,changeCursor:!1,isShowRemote:!0,localStreamType:1,povLocked:!1,isSharing:!1,hasARCore:!0,isCancel:!1,isRecording:!1,isSendingFile:!1,sendingRate:0,transferStep:0,sendFileName:null,sendFileSize:null,sendFileTitle:null,sendFileModal:!1,isAppPaused:!1,lang:0,framerate:0,hasFramerate:!1,videoTrack:null,canAddLine:!0,audioRing:!1,isDownloading:!1,endTime:null,remainSecs:0,remainMins:0,showMessage:"",isCalling:!1,receiveCallData:{},downloadProgress:0,drawFunction:0}},created:function(){var t=this;window.test=this,"WebSocket"in window||(this.$alert("此瀏覽器不支援Web Socket連線"),this.toContact()),window.onbeforeunload=function(e){console.log("onbeforeunload"),t.closeAll()},this.token=this.$cookies.get("token"),this.token||this.$router.push({name:"Login"}),this.userinfo=this.$cookies.get("user"),this.userinfo||this.$router.push({name:"Login"}),document.addEventListener("blur",this.blur),document.addEventListener("focus",this.focus);var e=this.$route.query||{};if(this.user=this.userinfo.account,this.name=this.userinfo.name,this.initPC(),this.targetName=this.callName||e.callName,this.$changeTitle(this.targetName),this.targetAccount=this.callAccount||e.callAccount,this.accept="1"==e.accept,this.roomUuid=this.callRoomUUID||e.callRoomUUID,this.isShowCallerScreen="1"==(this.showCallerScreen||e.showCallerScreen),this.isGlasses="3"==(this.deviceType||e.deviceType),this.initialCanvasFunctions(),this.isGlasses?this.changeDrawFunction(0):this.changeDrawFunction(-1),!this.targetName||!this.targetAccount)return this.toContact();this.prefix=this.targetName.slice(0,1),this.roomUuid&&(this.timer=setTimeout((function(){console.log("calling timeout reject"),t.sendDecline(),t.toContact()}),3e4)),this.initWS()},mounted:function(){var t=this;this.initialReferences(),this.createResizeObserver(),this.lang=parseInt(this.$cookies.get("language"))||v["a"].Lang.CHINESE,this.changeTitle(),this.framerateInterval=setInterval((function(){var e=t.videoTrack&&t.videoTrack.getSettings().frameRate||0;t.framerate=parseInt(10*e)/10||"--"}),100)},beforeDestroy:function(){this.closeAll()},blur:function(){},focus:function(){},destroyed:function(){document.removeEventListener("blur",this.blur),document.removeEventListener("focus",this.focus)},methods:{initUserMedia:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then((function(e){if(!e)throw"Stream not found";t.activatingDevice=!1,t.localStream=e})).catch((function(e){console.error("Error:"+e.name),t.$alert(t.$t("CALL.CALL.PERMISSION")),t.localStream=null})));case 1:case"end":return e.stop()}}),e)})))()},initDisplayMedia:function(t){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.abrupt("return",navigator.mediaDevices.getDisplayMedia(t).then((function(t){if(!t)throw"Stream not found";e.displayStream=t,t.getVideoTracks()[0].onended=function(){e.stopShowDesktop()};var a,i=Object(r["a"])(e.remoteStream.getAudioTracks());try{for(i.s();!(a=i.n()).done;){var o=a.value;e.displayStream.addTrack(o)}}catch(n){i.e(n)}finally{i.f()}})).catch((function(t){console.error("Error:"+t.name),e.displayStream=null})));case 1:case"end":return a.stop()}}),a)})))()},initFileChannel:function(t){var e=this,a=this;this.initDataChannel(t),t.onmessage=function(t){return"string"===typeof t.data&&e.handleDataMessage(t.data)},t.bufferArray=[],t.bufferedAmountLowThreshold=g/2,t.sendSnapshot=function(t){if(this.bufferArray.length>0)this.$alert(this.$t("CALL.CALL.FILE_TRANSFER_NOT_COMPLETED"));else{t.indexOf(",")>0&&(t=t.split(",")[1]);var e=t.length,a=Math.ceil(e/g);this.trySend("--".concat(a));for(var i=0;i<a;i++){var o=Math.min((i+1)*g,e),n=t.substring(i*g,o);this.trySend(n)}}},t.addFileAndWait=function(t,e){this.bufferArray.length>0&&(this.stop(),a.cmdFileTransferStop()),t.indexOf(",")>0&&(t=t.split(",")[1]);var i=t.length;this.chunkCount=Math.ceil(i/g),this.trySend("--".concat(this.chunkCount,"--").concat(e));for(var o=0;o<this.chunkCount;o++){var n=Math.min((o+1)*g,i),s=t.substring(o*g,n);this.bufferArray.push(s)}},t.accept=function(){var t=this;a.sendingRate=0,this.transInterval=setInterval((function(){t.appendChunks()}),50),a.isSendingFile=!0},t.reject=function(){this.end()},t.stop=function(){a.sendFileModal=!1,this.end()},t.success=function(){a.transferStep=3,a.sendFileTitle=a.$t("CALL.CALL.SEND_FILE_COMPLETED"),setTimeout((function(){a.sendFileModal=!1}),2e3),this.end()},t.end=function(){this.bufferArray=[],a.isSendingFile=!1,a.sendingRate=0,a.sendFileName=null,a.sendFileSize=null,clearInterval(this.transInterval)},t.appendChunks=function(){if(!this.bufferArray.length)return this.success();this.trySend(this.bufferArray.shift()),a.sendingRate=(100*(1-this.bufferArray.length/this.chunkCount)).toFixed(0)}},initCommandChannel:function(t){var e=this;t.onmessage=function(t){t.data instanceof ArrayBuffer&&e.handleCommand(new Float64Array(t.data))||"string"===typeof t.data&&e.handleDataMessage(t.data)},this.initDataChannel(t)},initPC:function(){var t,e=this,a=new RTCPeerConnection({iceServers:this.$config.iceServers});this.pc=a,a.addEventListener("icecandidate",(function(t){if(t&&t.candidate){var a=t.candidate,i={sdp:a.candidate,sdpMid:a.sdpMid,sdpMLineIndex:a.sdpMLineIndex};e.ws.sendMessage("IceCandidate",i)}})),a.addEventListener("track",this.gotRemoteStream),a.addEventListener("datachannel",(function(t){if(t.channel){var a=t.channel&&t.channel.label;"data"==a?(e.fileChannel=t.channel,e.initFileChannel(e.fileChannel)):(e.commandChannel=t.channel,e.initCommandChannel(e.commandChannel))}})),this.commandChannel=this.pc.createDataChannel("WebRTCData"),this.initCommandChannel(this.commandChannel),a.onconnectionstatechange=function(){switch(a.connectionState){case"connected":break;case"disconnected":case"failed":case"closed":console.log(e.$t("CALL.CALL.DISCONNECTED")),e.closeCall();break}},a.oniceconnectionstatechange=function(t){},a.onicecandidateerror=function(t){console.error(t)},a.functions=(t={},Object(s["a"])(t,L,this.receiveState),Object(s["a"])(t,k,this.receiveHangup),Object(s["a"])(t,T,this.receiveArrow),Object(s["a"])(t,b,this.receiveTorch),Object(s["a"])(t,D,this.receivePause),Object(s["a"])(t,R,this.receiveResume),Object(s["a"])(t,y,this.receiveScreenshotEnd),Object(s["a"])(t,I,this.receiveShowDesktop),Object(s["a"])(t,M,this.receiveStopShowDesktop),Object(s["a"])(t,P,this.receiveMessage),Object(s["a"])(t,j,this.receiveFileTransferStop),Object(s["a"])(t,F,this.receiveFileTransferAccept),Object(s["a"])(t,O,this.receiveFileTransferReject),Object(s["a"])(t,$,this.receiveAppPause),Object(s["a"])(t,z,this.receiveAppResume),Object(s["a"])(t,_,this.receiveSnapshot),Object(s["a"])(t,U,this.receiveTrialEnd),t)},initWS:function(){var t=this,e=setTimeout((function(){t.isClose||(t.$alert("建立連線失敗"),t.toContact())}),1e4),a="".concat(this.$ws,"/signaling"),i=new WebSocket(a);this.ws=i,i.onopen=function(){if(clearTimeout(e),console.log("this.roomUuid = ".concat(t.roomUuid)),t.roomUuid){if(t.audioRing=!0,!t.isShowCallerScreen)return t.sendDecline("3"),t.$alert(t.$t("CALL.CALL.UNSUPPORTED")),t.toContact();t.callingStep=3,t.initUserMedia().then((function(){if(!t.localStream)return t.sendDecline("2"),t.toContact();t.accept&&t.acceptCall()}))}else t.targetAccount?t.initUserMedia().then((function(){if(!t.localStream)return t.toContact();t.isCall=!0,i.sendMessage("Call",{token:t.token,target:t.targetAccount,showCallerScreen:0})})):t.toContact()},i.onclose=function(){console.log("onclose")},i.sendObj=function(t){return i.readyState===WebSocket.OPEN&&i.send(JSON.stringify(t))},i.sendMessage=function(t,e){return i.sendObj({type:t,payload:e})},i.onError=function(t){return console.log(t.toString())},i.onmessage=function(t){var e=this;if(t.data instanceof Blob){var a=new FileReader;a.onload=function(){return e.handleMessage(a.result)},a.readAsText(t.data)}else this.handleMessage(t.data)},i.handleMessage=function(t){try{var e=JSON.parse(t),a=e.type,i=e.payload;console.log("receive websocket message type: ".concat(a)),this[a]?this[a](i):console.log(JSON.stringify(e))}catch(o){console.log(o),console.log(t)}},i["CallResp"]=function(e){var a=e.Code,i=e.RData.uuid;if(console.log({Code:a,uuid:i}),0!=a)return t.$alert(t.getMessage(a)),t.toContact();t.roomUuid=i},i["AcceptResp"]=function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(a){var i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=a.Code,console.log("AcceptResp"),0==i){e.next=5;break}return t.$alert(t.getMessage(i)),e.abrupt("return",t.toContact());case 5:return t.setVideoTrack(t.emptyCv.captureStream()),t.setAudioTrack(t.localStream),e.next=9,t.pc.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});case 9:return o=e.sent,e.next=12,t.pc.setLocalDescription(o);case 12:console.log("sendSDP"),t.sendSDP(o);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i["DeclineResp"]=function(e){var a=e.Code;e.RData;if(0!=a)return t.$alert(t.getMessage(a)),t.toContact();0==t.step&&t.toContact()},i["CancelResp"]=function(e){var a=e.Code;e.RData;0!=a&&t.$alert(t.getMessage(a)),t.callingStep=2,setTimeout(t.toContact,3e3)},i["SessionDescription"]=function(e){"offer"==e.type?t.receiveOffer(e):t.receiveAnswer(e)},i["IceCandidate"]=function(e){t.receiveIceCandidate(e)}},initDataChannel:function(t){t.onopen=function(t){},t.onclose=function(t){},t.trySend=function(t){"open"==this.readyState&&this.send(t)}},sendDecline:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"1",e=arguments.length>1?arguments[1]:void 0;console.log("sendDecline reason ".concat(t)),this.ws.sendMessage("Decline",{token:this.token,roomGuid:e||this.roomUuid,reason:t})},sendSDP:function(t){this.ws.sendMessage("SessionDescription",{type:t.type,sdp:t.sdp})},setVideoSource:function(){this.isShowRemote?this.video.srcObject=this.remoteStream:!this.isShowRemote&&this.displayStream?this.video.srcObject=this.displayStream:!this.isShowRemote&&this.localStream?this.video.srcObject=this.localStream:this.video.srcObject=null},gotRemoteStream:function(t){if(t.streams&&t.streams[0])if(this.remoteStream){var e=t.streams[0].getTracks();if(e){var a,i=Object(r["a"])(e);try{for(i.s();!(a=i.n()).done;){var o=a.value;this.remoteStream.addTrack(o)}}catch(n){i.e(n)}finally{i.f()}}}else this.remoteStream=t.streams[0];else this.remoteStream?this.remoteStream.addTrack(t.track):this.remoteStream=new MediaStream(t.track);this.videoTrack=this.remoteStream&&this.remoteStream.getVideoTracks()[0],this.setVideoSource()},gotRemoteDescription:function(t){this.pc.setRemoteDescription(t)},cancelCall:function(){if(this.resetTitle(),1==this.callingStep)return this.hangup(!0);this.isCancel||(this.isCancel=!0,0==this.callingStep?this.roomUuid&&this.ws.sendMessage("Cancel",{token:this.token}):3==this.callingStep?(this.sendDecline(),this.toContact()):this.toContact())},closeCall:function(){this.isClose||(this.isClose=!0,0==this.step?this.cancelCall():1==this.step&&this.hangup(!0),this.resetTitle())},closeAll:function(){this.closeCall(),this.pc&&"closed"!=this.pc.connectionState&&this.pc.close(),this.stopTrack(this.localStream),this.stopTrack(this.displayStream),this.video&&(this.video.srcObject=null),this.commandChannel&&(this.commandChannel=null),this.fileChannel&&(this.fileChannel=null),this.resetTitle(),clearTimeout(this.timer),clearInterval(this.recordInterval),clearInterval(this.framerateInterval),clearInterval(this.transInterval)},receiveOffer:function(t){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function a(){var i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.pc.setRemoteDescription(new RTCSessionDescription(t));case 2:return e.setVideoTrack(e.emptyCv.captureStream()),e.setAudioTrack(e.localStream),a.next=6,e.pc.createAnswer();case 6:return i=a.sent,e.removeVideoTrack(),a.next=10,e.pc.setLocalDescription(i);case 10:e.sendSDP(i);case 11:case"end":return a.stop()}}),a)})))()},receiveAnswer:function(t){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:e.pc.setRemoteDescription(new RTCSessionDescription(t)).catch(e.onError);case 1:case"end":return a.stop()}}),a)})))()},receiveIceCandidate:function(t){this.pc.addIceCandidate(new RTCIceCandidate({candidate:t.sdp,sdpMLineIndex:t.sdpMLineIndex,sdpMid:t.sdpMid})).then((function(){}),(function(){}))},removeVideoTrack:function(){this.pc.getSenders().find((function(t){return t&&t.track&&"video"==t.track.kind}))},setVideoTrack:function(t){if(t){var e=t.getVideoTracks()[0];if(!e)return;var a=this.pc.getSenders().find((function(t){return t&&t.track&&t.track.kind==e.kind}));a?a.replaceTrack(e):this.pc.addTrack(e)}},setAudioTrack:function(t){if(t){var e=t.getAudioTracks()[0];if(!e)return;var a=this.pc.getSenders().find((function(t){return t&&t.track&&t.track.kind==e.kind}));a?a.replaceTrack(e):this.pc.addTrack(e)}},stopTrack:function(t){t&&t.active&&t.getTracks().forEach((function(t){return t.stop()})),t=null},onError:function(t,e){},acceptCall:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log("acceptCall"),t.audioRing=!1,t.loading&&(t.loading.style.display="none"),t.callingStep=4,t.ws.sendMessage("Accept",{token:t.token,roomGuid:t.roomUuid});case 5:case"end":return e.stop()}}),e)})))()},hangup:function(t){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!e.isHangup){a.next=2;break}return a.abrupt("return");case 2:e.isHangup=!0,e.isPaused&&(e.saveAndClearCanvas(),e.isPaused=!1),t&&e.sendCommand(k),e.isRecording&&e.btnStopRecording(),e.ws.sendMessage("Leave",{tagCount:e.captures.length}),e.finishCall();case 8:case"end":return a.stop()}}),a)})))()},showDesktop:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(t.isPaused||t.isSendingFile||t.isAppPaused)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.initDisplayMedia();case 4:if(t.displayStream){e.next=6;break}return e.abrupt("return");case 6:t.cmdScreenShare(),t.isShowRemote=!1,t.setVideoSource(),t.setVideoTrack(t.displayStream),t.isSharing=!0;case 11:case"end":return e.stop()}}),e)})))()},stopShowDesktop:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.isSharing){e.next=2;break}return e.abrupt("return");case 2:if(t.isSharing=!1,t.isGlasses){e.next=5;break}return e.abrupt("return");case 5:t.cmdScreenStopShare(),t.displayStream&&t.stopTrack(t.displayStream),t.isShowRemote=!0,t.setVideoSource(),t.setVideoTrack(t.emptyCv.captureStream());case 10:case"end":return e.stop()}}),e)})))()},showFileDialog:function(t){this.isAppPaused||0==this.$refs.selectFile.value.length&&(this.transferStep=1,this.selectFile.click(),this.isSendingFile=!0,this.sendFileTitle=this.$t("CALL.CALL.SEND_FILE_WAITING"),this.sendFileModal=!0)},selectFileToSend:function(t){var e=this,a=new Array(".pdf",".jpg",".jpeg",".png"),i=t.target&&t.target.files[0];if(i){var o=i.name;if(o=o.substring(o.lastIndexOf(".")),a.indexOf(o)<0)return this.isSendingFile=!1,this.transferStep=4,this.sendFileTitle=this.$t("CALL.CALL.SEND_FILE_INVALID");if(i.size>26214400)return this.isSendingFile=!1,this.transferStep=4,this.sendFileTitle=this.$t("CALL.CALL.SEND_FILE_EXCEEDED");this.readFileContent(this.selectFile).then((function(a){e.sendFile(a,i.name),t.target.value=""})).catch((function(t){}))}},stopSendingFile:function(){this.fileChannel&&(this.fileChannel.stop(),this.cmdFileTransferStop(),this.isSendingFile=!1,this.sendingRate=0,this.sendFileName=null,this.sendFileSize=null,this.transferStep=0,this.sendFileTitle=this.$t("CALL.CALL.SEND_FILE_CANCELLED")),this.sendFileModal=!1,this.$refs.selectFile.value=null},readFileContent:function(t){return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){if(t&&t.files&&t.files[0]){var i=new FileReader;i.onload=function(t){e(t.target.result)},i.readAsDataURL(t.files[0])}else a()})));case 1:case"end":return e.stop()}}),e)})))()},receiveDecline:function(t){this.toContact(),this.isCalling&&(this.isCalling=!1)},receiveCall:function(t){if(2!==this.step)return this.sendDecline("0"),this.toContact();this.isCalling=!0,this.receiveCallData=t},acceptCallInCapture:function(t){var e=this;if(!t)return this.isCalling=!1,this.sendDecline("0",this.receiveCallData.callRoomUUID);this.receiveCallData.accept="1",window.location.href=location.href.split("?")[0]+"?"+Object.keys(this.receiveCallData).map((function(t){return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(e.receiveCallData[t]))})).join("&"),this.isCalling=!1},sendCommand:function(){var t=new Float64Array(arguments).buffer;this.commandChannel&&this.commandChannel.trySend(t)},sendSnapshot:function(){this.handlingData=!0;var t=document.createElement("canvas"),e=K/this.video.videoHeight;t.width=this.video.videoWidth*e,t.height=this.video.videoHeight*e,t.getContext("2d").drawImage(this.video,0,0,t.width,t.height);var a=t.toDataURL("image/jpeg",q);this.fileChannel&&this.fileChannel.sendSnapshot(a)},sendFile:function(t,e){this.sendFileName=e,this.sendFileSize=new Blob([t]).size,this.fileChannel&&this.fileChannel.addFileAndWait(t,e)},handleCommand:function(t){console.log("receive command",t);var e=this.pc.functions[t[0]];e?e.apply(void 0,Object(n["a"])(t.slice(1))):console.log(t[0])},handleDataMessage:function(t){var e=this;if(this.dataMessageTimer&&clearTimeout(this.dataMessageTimer),this.dataMessageTimer=setTimeout((function(){e.handlingData=!1}),3e3),0==t.indexOf("--"))this.handlingData=!0,this.dataChunkBuffer=[],this.dataChunksize=+t.split("--")[1];else{if(!this.handlingData)return;if(this.dataChunkBuffer.push(t),this.dataChunkBuffer.length==this.dataChunksize){var a=new Image;a.onload=function(){e.resizeCanvas(),e.ctx.drawImage(a,0,0,e.cv.width,e.cv.height),e.backupCanvas()};var i=this.dataChunkBuffer.join("");a.src="data:image/jpg;base64,"+i,this.handlingData=!1,this.dataMessageTimer&&clearTimeout(this.dataMessageTimer),this.cmdScreenshotEnd(),this.isPaused=!0}}},receiveState:function(t){var e=this;if(this.shareState=t,this.shareState==Z){this.isGlasses?this.isPaused?this.changeCursor=!0:this.changeCursor=!1:this.changeCursor=!0,this.dismissCountDown=this.dismissSecs,this.endTime=Math.floor(new Date/1e3+1800);var a=setInterval((function(){var t=Math.floor(e.endTime-new Date/1e3);if(e.remainMins=Math.floor(t/60),e.remainSecs=t-60*e.remainMins,0==t)return clearInterval(a)}),1e3)}else this.shareState==J?0==this.step&&(this.dismissCountDown=this.dismissSecs,this.step=1):this.shareState==Y&&(clearTimeout(this.timer),this.callingStep=1,this.resetTitle())},receiveHangup:function(){this.hangup(!1)},receiveArrow:function(t,e,a,i,o,n,s,r){for(var c=(t?"r":"l")+e,d=-1,l=0;l<this.pointers.length;l++)this.pointers[l].sn==c&&(d=l);if(a){var h={sn:c,isRemote:t,serial:e,visible:a,colorIndex:i,oldPosX:o,oldPosY:n,newPosX:s,newPosY:r},f=this;h.setPosition=function(){0===this.newPosX?this.left=0:this.left=f.video.offsetWidth-18,0===this.newPosY?this.top=0:this.top=(f.video.offsetHeight-48)*this.newPosY},h.setPosition(),d>-1?this.pointers[d]=h:this.pointers.push(h)}else d>-1&&this.pointers.splice(d,1)},receiveTorch:function(t,e){this.isTurnOn=t,this.torchTip=e,0!=e&&(this.dismissCountDown=this.dismissSecs)},receivePause:function(){},receiveResume:function(){console.log("CMD_RESUME"),this.isDrawing&&(this.isDrawing=!1),this.isGlasses&&(Q.push(tt),tt=[]),this.saveAndClearCanvas(),this.isPaused=!1},receiveScreenshotEnd:function(){this.handlingData=!1},receiveShowDesktop:function(){this.showDesktop()},receiveStopShowDesktop:function(){this.stopShowDesktop()},receiveMessage:function(t,e){var a=[1,2,3,4,9,10],i=this.messageIdList.find((function(e){return e.id==t}));console.log(t),a.includes(i.id)?(this.showMessage=i.desc,this.dismissCountDown=this.dismissSecs,this.undo(!1),this.canAddLine=!0):5==i.id?this.canAddLine=!0:7==i.id?(this.dismissCountDownPaused=1800,this.canAddLine=!1):8==i.id?(this.dismissCountDownPaused=0,this.canAddLine=!0):console.log("not found message id ".concat(t))},receiveFileTransferStop:function(){this.fileChannel&&this.fileChannel.stop()},receiveFileTransferAccept:function(){this.transferStep=2,this.sendFileTitle=this.$t("CALL.CALL.SEND_FILE_PROCESSING"),this.fileChannel.accept()},receiveFileTransferReject:function(){this.transferStep=4,this.sendFileTitle=this.$t("CALL.CALL.SEND_FILE_DECLINE"),this.fileChannel.reject()},receiveAppPause:function(){this.isAppPaused=!0,this.ctx.textAlign="center",this.ctx.fillStyle="#fff",this.ctx.font="24px Arial",this.ctx.fillText(this.targetName+this.$t("CALL.CALL.APP_PAUSE"),this.cv.width/2,this.cv.height/2)},receiveAppResume:function(){this.isAppPaused=!1,this.ctx.clearRect(0,0,this.cv.width,this.cv.height)},receiveSnapshot:function(){this.isGlasses||this.isPaused||(console.log("receiveSnapshot"),this.saveAndClearCanvas()),this.canAddLine=!0},receiveTrialEnd:function(){this.hangup(!0),this.$bvModal.show("trialEndModal")},cmdLockPov:function(){this.povLocked=!0,this.shareState==Z&&this.sendCommand(x)},cmdUnlockPov:function(){this.povLocked=!1,this.shareState==Z&&this.sendCommand(S)},cmdScreenshotEnd:function(){this.shareState==Z&&this.sendCommand(y)},cmdPause:function(){this.shareState==Z&&this.sendCommand(D)},cmdResume:function(){this.shareState==Z&&this.sendCommand(R)},cmdScreenShare:function(){this.sendCommand(I)},cmdScreenStopShare:function(){this.sendCommand(M)},cmdFileTransferStop:function(){this.sendCommand(j)},cmdScreenRecord:function(){this.sendCommand(E)},cmdScreenRecordStop:function(){this.sendCommand(N)},cmdAddLine:function(t,e,a,i){this.shareState==Z&&this.sendCommand(C,1,i,e,a,t)},cmdAddGlassLine:function(t,e,a,i,o,n){var s=this.cv.width,r=this.cv.height;e/=s,i/=s,a/=r,o/=r,this.shareState==Z&&this.sendCommand(G,n,e,a,i,o,t)},cmdRemoteViewSize:function(t,e){console.log("cmdRemoteViewSize ".concat(t," ").concat(e)),this.sendCommand(A,t,e)},cmdShareReady:function(){this.sendCommand(Y)},onMouseDown:function(t){if(t.preventDefault(),this.isChoosing=!1,this.shareState==Z){if(!this.canAddLine)return console.log(this.$t("CALL.CALL.APP_ADDLINE_ALERT"));if(!this.isGlasses||this.isPaused){if(this.isDrawing=!0,"touchstart"==t.type)var e=t.target.getBoundingClientRect(),a=t.touches[0].clientX-e.left,i=t.touches[0].clientY-e.top,o=a,n=i;else o=t.target.offsetLeft+t.offsetX-this.cv.offsetLeft,n=t.target.offsetTop+t.offsetY-this.cv.offsetTop;at(o,n)}}},onMouseMove:function(t){if(t.preventDefault(),this.isDrawing){if(t.target==this.cvCover){if("touchmove"==t.type)var e=t.target.getBoundingClientRect(),a=t.touches[0].clientX-e.left,i=t.touches[0].clientY-e.top,o=a,n=i;else o=t.target.offsetLeft+t.offsetX-this.cv.offsetLeft,n=t.target.offsetTop+t.offsetY-this.cv.offsetTop;if(o>=0&&n>=0&&o<=this.cv.offsetWidth&&n<=this.cv.offsetHeight)return it(o,n)}this.isDrawing=!1,ot()}},onMouseUp:function(t){if(t.preventDefault(),this.isDrawing)if("touchend"==t.type)ot();else{var e=t.target.offsetLeft+t.offsetX-this.cv.offsetLeft,a=t.target.offsetTop+t.offsetY-this.cv.offsetTop;this.isDrawing=!1,e>=0&&a>=0&&e<=this.cv.width&&a<=this.cv.height?ot(e,a):ot()}},getDistance:function(t,e,a,i){var o=t-a,n=e-i;return Math.sqrt(o*o+n*n)},drawVideoToCanvas:function(){console.log("drawVideoToCanvas"),this.resizeCanvas(),this.ctx.drawImage(this.video,0,0,this.cv.width,this.cv.height),this.backupCanvas()},redrawCanvas:function(){this.recoverCanvas();var t,e=Object(r["a"])(Q);try{for(e.s();!(t=e.n()).done;){var a,i=t.value,o=Object(r["a"])(i);try{for(o.s();!(a=o.n()).done;){var n=a.value;this.drawTagLineToCanvas(this.ctx,n)}}catch(s){o.e(s)}finally{o.f()}}}catch(s){e.e(s)}finally{e.f()}},drawTagLineToCanvas:function(t,e){t.strokeStyle=this.colorList[e.selectedColorId].colorCode,t.lineWidth=this.lineWidth,t.lineCap="round",t.lineJoin="round",t.beginPath(),e.type==X?t.ellipse((e.x1+e.x2)/2,(e.y1+e.y2)/2,Math.abs(e.x1-e.x2)/2,Math.abs(e.y1-e.y2)/2,0,0,2*Math.PI):(t.moveTo(e.x1,e.y1),t.lineTo(e.x2,e.y2)),t.stroke(),t.closePath()},recoverCanvas:function(){this.backupCv&&(this.cv.width=this.backupCv.width,this.cv.height=this.backupCv.height,this.ctx.drawImage(this.backupCv,0,0))},backupCanvas:function(){Q=[],tt=[],this.backupCv||(this.backupCv=document.createElement("canvas")),this.backupCv.width=this.cv.width,this.backupCv.height=this.cv.height,this.backupCtx.drawImage(this.cv,0,0)},drawToCtx:function(t,e,a,i,o){var n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:this.selectedColorId;t!=V&&t!=X||(this.isPaused?(tt=[],Q.push(tt)):this.drawVideoToCanvas());var s=new et(t,e,a,i,o,n);this.drawTagLineToCanvas(this.ctx,s),tt.push(s),-1===this.drawFunction||0===this.drawFunction?this.cmdAddLine(t,i,o,n):this.cmdAddGlassLine(t,e,a,i,o,n),t!=B||this.isGlasses||this.isPaused||this.cmdUnlockPov()},saveCanvas:function(){var t=this.cv.toDataURL("image/jpg");this.captures.push({selected:!0,dataUrl:t})},clearCanvas:function(){this.ctx.clearRect(0,0,this.cv.width,this.cv.height)},clearCanvasCover:function(){this.ctxCover.clearRect(0,0,this.cvCover.width,this.cvCover.height)},pause:function(){this.isPaused||!this.isGlasses||this.handlingData||!this.isShowRemote||this.isAppPaused||(Q=[],tt=[],this.isPaused=!0,this.changeCursor=!0,this.cmdPause(),this.drawVideoToCanvas(),this.sendSnapshot())},resume:function(){console.log("resume"),this.isPaused&&(this.changeCursor=!1,this.saveAndClearCanvas(),this.isGlasses?this.cmdResume():this.cmdUnlockPov())},saveAndClearCanvas:function(){console.log("saveAndClearCanvas"),this.mouseDownTimer&&clearTimeout(this.mouseDownTimer),this.isGlasses&&!Q.length||this.saveCanvas(),this.isPaused=!1,this.clearCanvas(),Q=[],tt=[]},toggleLight:function(){this.isSharing||this.isSendingFile||this.isAppPaused||this.sendCommand(b,this.isTurnOn?0:1)},undo:function(t){this.isPaused?Q.length>0&&(Q.pop(),this.redrawCanvas()):this.isGlasses||this.clearCanvas(),t&&this.sendCommand(w)},toggleMute:function(){var t=this;this.isMuted=!this.isMuted,this.localStream&&this.localStream.getAudioTracks().forEach((function(e){return e.enabled=!t.isMuted}))},changeColor:function(t){this.selectedColorId=t,this.isChoosingColor=!1},toggleSelect:function(t){this.captures[t].selected=!this.captures[t].selected,this.checkSelectAll()},doSelectAll:function(){this.selectAll=!this.selectAll,this.emptySelect=!this.selectAll;for(var t=0;t<this.captures.length;t++)this.captures[t].selected=this.selectAll},checkSelectAll:function(){for(var t=!0,e=!0,a=0;a<this.captures.length;a++)this.captures[a].selected||(t=!1),this.captures[a].selected&&(e=!1);this.selectAll=t,this.emptySelect=e},downloadZip:function(){var t=this;this.isDownloading=!0;for(var e=new f.a,a=!1,i=0;i<this.captures.length;i++){var o=this.captures[i];o.selected&&(e.file("MeetingSummary".concat(("00"+(i+1)).slice(-3),".jpg"),o.dataUrl.split(",")[1],{base64:!0}),a=!0)}if(a){var n=this,s=new Date,r=("0"+(s.getMonth()+1)).slice(-2)+("0"+s.getDate()).slice(-2)+("0"+s.getHours()).slice(-2)+("0"+s.getMinutes()).slice(-2);e.generateAsync({type:"blob",streamFiles:!0},(function(t){0==t.percent&&n.$bvModal.show("downloadZipModal"),100==t.percent&&n.$bvModal.hide("downloadZipModal"),n.downloadProgress=t.percent})).then((function(e){Object(d["saveAs"])(e,"ARRemoteAssistance_".concat(r,".zip")),t.isDownloading=!1}))}},btnStartRecording:function(){var t=this;this.recordInterval||(this.recordInterval=setInterval((function(){try{t.isPaused||t.isAppPaused?t.recordCtx.drawImage(t.cv,0,0,t.recordCv.width,t.recordCv.height):(t.recordCtx.drawImage(t.video,0,0,t.recordCv.width,t.recordCv.height),t.recordCtx.drawImage(t.cv,0,0,t.recordCv.width,t.recordCv.height),t.recordCtx.drawImage(t.cvCover,0,0,t.recordCv.width,t.recordCv.height))}catch(e){clearInterval(t.recordInterval)}}),1e3/30)),this.cvStream=this.recordCv.captureStream();var e=new AudioContext,a=e.createMediaStreamSource(this.localStream),i=e.createMediaStreamSource(this.remoteStream),o=e.createMediaStreamDestination();a.connect(o),i.connect(o);var s=new MediaStream([].concat(Object(n["a"])(this.cvStream.getTracks()),Object(n["a"])(o.stream.getTracks())));p()(s),this.recorder=p()(s,{type:"video",showMousePointer:!1,mimeType:"video/webm;codecs=vp9"}),this.recorder.startRecording(),this.isRecording=!0,this.cmdScreenRecord()},btnStopRecording:function(){var t=this;this.recordInterval&&(clearInterval(this.recordInterval),this.recordInterval=null),this.recorder&&(this.recorder.stopRecording((function(e){t.dismissCountDownRecord=t.dismissSecs;var a=t.recorder.getBlob();t.getVideoDuration(a).then((function(e){console.log("duration=".concat(e)),Object(m["a"])(a,e,(function(e){p.a.invokeSaveAsDialog(e,t.getRecordFileName())}))})),t.recorder.destroy(),t.recorder=null})),this.isRecording=!1,this.cmdScreenRecordStop())},getVideoDuration:function(t){var e=this;return new Promise((function(a,i){var o=e.$refs.recordVideo;o.src=URL.createObjectURL(t),o.onloadedmetadata=function(){o.duration!==1/0?a(1e3*o.duration):(o.currentTime=1e101,o.ontimeupdate=function(){this.ontimeupdate=function(){},o.currentTime=0,a(1e3*o.duration)})}}))},getRecordFileName:function(){var t=(new Date).toString().split(" ")[0],e=this.$cookies.get("downloadCount")||0,a=this.$cookies.get("downloadDate");a&&a==t||(e=0);var i=(new Date).toISOString().replace(/[^0-9]/g,"").slice(0,-9);return this.$cookies.set("downloadCount",++e),this.$cookies.set("downloadDate",t),"AR_"+i+"_"+("00"+e).slice(-3)},toContact:function(){2!=this.step&&(this.redirectFlag||(this.redirectFlag=!0,sessionStorage.getItem("roomUuid")&&this.isFromRating?this.$router.push({name:"RARating"}):this.$router.push({name:"RAContact"})))},finishCall:function(){if(sessionStorage.setItem("tagCount",this.captures.length),sessionStorage.setItem("roomUuid",this.roomUuid),this.captures.length){this.isRecording&&this.$bvModal.show("recordCanceledModal"),this.checkSelectAll(),this.$changeTitle(this.$t("APP.TITLE.CallScreenshots")),this.step=2;var t=1800-(this.endTime-Math.floor(new Date/1e3));this.totalMins=Math.floor(t/60),this.totalSecs=t-60*this.totalMins}else this.isRecording?this.$router.push({name:"RARating",params:{recordStatus:"canceled"}}):this.$router.push({name:"RARating"})},createResizeObserver:function(){var t=this,e=new ResizeObserver((function(e){var a,i=Object(r["a"])(e);try{for(i.s();!(a=i.n()).done;){var o=a.value;o.target===t.video&&t.resizeAndSendViewSize()}}catch(n){i.e(n)}finally{i.f()}}));e.observe(this.video)},resizeAndSendViewSize:function(){if(!this.isPaused){var t=this.getVideoDimensions(),e=t.width,a=t.height;this.resizeCanvas(),this.cmdRemoteViewSize(e,a)}},resizeCanvas:function(){console.log("resizeCanvas");var t=this.getVideoDimensions(),e=t.width,a=t.height;this.video&&this.cv&&(this.cv.width=e,this.cv.height=a,this.cvCover.width=e,this.cvCover.height=a,this.recordCv&&(this.recordCv.width=e,this.recordCv.height=a)),this.pointers.push({}),this.pointers.pop()},countDownChanged:function(t){this.dismissCountDown=t},getVideoDimensions:function(){var t=this.video.videoWidth/this.video.videoHeight,e=this.video.offsetWidth,a=this.video.offsetHeight,i=e/a;return i>t?e=a*t:a=e/t,{width:Math.floor(e),height:Math.floor(a)}},closeModal:function(t){this.$bvModal.hide(t)},changeTitle:function(){var t=this,e=0;this.roomUuid?this.titleTimer=setInterval((function(){t.$changeTitle(t.$t("CALL.CALL.CALLING_IN")+".".repeat(e++%3+1))}),500):this.titleTimer=setInterval((function(){t.$changeTitle(t.$t("CALL.CALL.CALLING_OUT")+".".repeat(e++%3+1))}),500)},resetTitle:function(){clearInterval(this.titleTimer),"digiwin"==this.$cookies.get("deploy_type")?(this.$store.state.deployType=2,this.$changeTitle()):(this.$store.state.deployType=1,this.$changeTitle())},toggleFramerate:function(){console.log("toggleFramerate"),this.hasFramerate=!this.hasFramerate},initialReferences:function(){console.log("initialReferences"),this.cv=this.$refs.cv,this.cvCover=this.$refs.cvCover,this.video=this.$refs.video,this.emptyCv=this.$refs.emptyCv,this.recordCv=this.$refs.recordCv,this.backupCv=this.$refs.backupCv,this.loading=this.$refs.loading,this.selectFile=this.$refs.selectFile,this.ctx=this.cv.getContext("2d"),this.ctx.lineCap="round",this.ctx.lineJoin="round",this.ctx.save(),this.ctxCover=this.cvCover.getContext("2d"),this.ctxCover.lineCap="round",this.ctxCover.lineJoin="round",this.ctxCover.save(),this.backupCtx=this.backupCv.getContext("2d"),this.recordCtx=this.recordCv.getContext("2d"),this.mouseDownFuncs=[]},initialCanvasFunctions:function(){var t=this;nt[-1]=function(){var e,a;at=function(i,o){var n=V;t.isPaused?n=H:(t.cmdLockPov(),t.mouseDownTimer&&clearTimeout(t.mouseDownTimer),t.mouseDownTimer=setTimeout((function(){t.isPaused=!0}),3e3)),t.drawToCtx(n,i,o,i,o),e=i,a=o},it=function(i,o){var n=t.getDistance(i,o,e,a);n>t.minimumLength&&(t.drawToCtx(W,e,a,i,o),e=i,a=o)},ot=function(i,o){clearTimeout(t.mouseDownTimer),t.drawToCtx(B,e,a,i||e,o||a),t.isPaused||t.cmdUnlockPov()}},nt[0]=function(){var e,a;at=function(i,o){e=i,a=o,t.drawToCtx(V,i,o,i,o)},it=function(i,o){t.drawToCtx(W,e,a,i,o),e=i,a=o},ot=function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;t.drawToCtx(B,e,a,i,o)}},nt[1]=function(){var e,a,i,o;t.ctxCover.restore(),t.ctxCover.lineWidth=t.lineWidth,at=function(t,n){e=i=t,a=o=n},it=function(n,s){t.clearCanvasCover(),i=n,o=s,t.drawTagLineToCanvas(t.ctxCover,new et(W,e,a,n,s,t.selectedColorId))},ot=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;e==n&&a==s||(t.drawToCtx(V,e,a,e,a),t.drawToCtx(W,e,a,n,s),t.drawHat(e,a,n,s),t.drawToCtx(B,n,s,n,s),t.clearCanvasCover())}},nt[2]=function(){t.ctxCover.restore(),t.ctxCover.lineWidth=t.lineWidth;var e,a,i,o,n=!1,s=[],r=10;at=function(c,d){n=!1,e=i=c,a=o=d,s=[];for(var l=0;l<r;l++)s.push({x1:i,y1:o});t.drawToCtx(V,c,d,c,d)},it=function(r,c){n=!0,e=i,a=o,i=r,o=c,t.drawToCtx(W,e,a,i,o),s.splice(0,1),s.push({x1:i,y1:o})},ot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;n&&(t.drawHat(s[0].x1,s[0].y1,i,o),n=!1,t.drawToCtx(B,e,a,e,a))}},nt[3]=function(){var e,a,i,o;t.ctxCover.restore(),t.ctxCover.lineWidth=t.lineWidth,at=function(t,n){e=i=t,a=o=n},it=function(n,s){i=n,o=s,t.clearCanvasCover(),t.drawTagLineToCanvas(t.ctxCover,new et(X,e,a,n,s,t.selectedColorId))},ot=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;t.drawToCtx(X,e,a,n,s),t.ctx.drawImage(t.cvCover,0,0),t.clearCanvasCover()}},nt[4]=function(){at=function(e,a){t.ctxCover.save(),t.ctxCover.textAlign="center",t.ctxCover.fillStyle=t.colorList[t.selectedColorId].colorCode,t.ctxCover.font=t.fontsize+"px Arial";var i=prompt("enter text");t.ctxCover.fillText(i,e,a),t.ctxCover.restore()},it=function(t,e){},ot=function(t,e){}}},drawHat:function(t,e,a,i){var o=30;console.log("this.drawHat ".concat(t," ").concat(e," ").concat(a," ").concat(i));var n=0,s=0,r=a-t,c=i-e,d=c/r;if(d!=1/0&&d!=-1/0){var l=Math.sqrt(Math.pow(o,2)/(1+Math.pow(d,2)))*(r/Math.abs(r)),h=l*d;n=a-l/2,s=i-h/2}else n=a,s=c>0?i-o/2:i+o/2;this.drawToCtx(W,a,i,n+(i-s),s-(a-n)),this.drawToCtx(W,a,i,n-(i-s),s+(a-n))},changeDrawFunction:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.drawFunction;this.drawFunction=t,nt[this.drawFunction](),this.isChoosingTool=!1}}},rt=st,ct=(a("71a0"),a("2877")),dt=Object(ct["a"])(rt,i,o,!1,null,"a954affc",null);e["default"]=dt.exports},"38cf":function(t,e,a){var i=a("23e7"),o=a("1148");i({target:"String",proto:!0},{repeat:o})},"4a9b":function(t,e,a){var i=a("74e8");i("Float64",(function(t){return function(e,a,i){return t(this,e,a,i)}}))},"4dc5":function(t,e,a){var i=a("24fb"),o=a("1de5"),n=a("a691");e=i(!1);var s=o(n);e.push([t.i,".blue[data-v-a954affc]{color:#2173c9}.blueHover[data-v-a954affc]{color:#185597}.darkBlue[data-v-a954affc]{color:#0a519c}.grey[data-v-a954affc]{color:#7b7b7b}.greyHover[data-v-a954affc]{color:#606060}.lightgrey[data-v-a954affc]{color:#d7d7d7}.green[data-v-a954affc]{color:#3fb182}.greenHover[data-v-a954affc]{color:#37926c}.red[data-v-a954affc]{color:#d44e4e}.redHover[data-v-a954affc]{color:#b44b4b}.placeholder[data-v-a954affc]{color:#aeaeae}.placeholderHover[data-v-a954affc]{color:#7b7b7b}.white[data-v-a954affc]{color:#fff}.custom-pagination[data-v-a954affc]{width:calc(100% - 60px)}.custom-pagination[data-v-a954affc] .pagination{float:right}.custom-pagination[data-v-a954affc] .VuePagination__pagination-item-next-chunk .page-link,.custom-pagination[data-v-a954affc] .VuePagination__pagination-item-prev-chunk .page-link{padding:7px}.custom-pagination[data-v-a954affc] .page-link{width:38px;height:38px;border-radius:19px;margin:0 2px;text-align:center;color:#2173c9;cursor:pointer}.custom-pagination[data-v-a954affc] .page-link.active{color:#fff;background-color:#2173c9;border-color:#2173c9}.left-section[data-v-a954affc],.right-section[data-v-a954affc]{height:100vh;background-color:#313131;z-index:99}@media (max-width:1200px){.left-section[data-v-a954affc],.right-section[data-v-a954affc]{padding:0}}.left-section .trial-count[data-v-a954affc]{position:absolute;top:45px;right:34px;width:210px;height:97px;background-color:rgba(188,39,39,.7019607843137254);border-radius:48.5px}@media (max-width:1200px){.left-section .trial-count[data-v-a954affc]{width:140px;height:60px;right:4px;border-radius:30px}}.left-section .trial-count .hangup[data-v-a954affc]{position:absolute;top:-37px;right:11px}@media (max-width:1200px){.left-section .trial-count .hangup[data-v-a954affc]{top:-43px;right:-4px}}.left-section .trial-count .trial-count-text[data-v-a954affc]{position:absolute;top:0;left:45px;color:#fff;font-size:24px;line-height:97px}@media (max-width:1200px){.left-section .trial-count .trial-count-text[data-v-a954affc]{left:30px;line-height:60px;font-size:16px}}.left-section-glasses[data-v-a954affc],.left-section .not-ready[data-v-a954affc]{background-color:transparent}.left-section-glasses[data-v-a954affc]{position:fixed;width:0;top:5vh;left:125px}@media (max-width:768px){.left-section-glasses[data-v-a954affc]{top:0}}.left-section-glasses .icon-left[data-v-a954affc]{top:0;position:relative!important}.left-section-glasses .trial-count-glasses[data-v-a954affc]{position:relative;width:210px;height:97px;background-color:rgba(188,39,39,.7019607843137254);border-radius:48.5px;margin-left:-56px}@media (max-width:1200px){.left-section-glasses .trial-count-glasses[data-v-a954affc]{width:170px;height:72px;border-radius:36px;margin-left:-11px}}.left-section-glasses .trial-count-glasses .hangup[data-v-a954affc]{position:absolute;top:11px;left:11px}.left-section-glasses .trial-count-glasses .trial-count-text[data-v-a954affc]{position:absolute;top:0;right:40px;color:#fff;font-size:24px;line-height:97px}@media (max-width:1200px){.left-section-glasses .trial-count-glasses .trial-count-text[data-v-a954affc]{line-height:72px}}.left-section-glasses .not-ready[data-v-a954affc],.right-section-glasses[data-v-a954affc]{background-color:transparent}.right-section-glasses[data-v-a954affc]{position:fixed;width:0;top:5vh;right:180px}@media (max-width:768px){.right-section-glasses[data-v-a954affc]{top:0}}.index[data-v-a954affc]{z-index:-999}.icon-left[data-v-a954affc]{right:45px;position:absolute;height:75px;line-height:75px;width:75px;padding:6px;border-radius:50%;cursor:pointer}@media (max-width:576px){.icon-left[data-v-a954affc]{right:0;margin-right:10px;height:50px;line-height:50px;width:50px;padding:0}.icon-left svg[data-v-a954affc]{font-size:1rem!important}}.icon-right[data-v-a954affc]{margin-left:30px;height:75px;line-height:75px;width:75px;padding:6px;border-radius:50%;cursor:pointer}@media (max-width:576px){.icon-right[data-v-a954affc]{margin-left:10px;height:50px;line-height:50px;width:50px;padding:0}.icon-right svg[data-v-a954affc]{font-size:1rem!important}}.icon-right .recording[data-v-a954affc]{margin-top:-15px;width:30px!important}@media (max-width:576px){.icon-right .recording[data-v-a954affc]{margin-top:-5px;width:20px!important}}.icon-right .flashlight[data-v-a954affc]{width:20px!important}@media (max-width:576px){.icon-right .flashlight[data-v-a954affc]{width:12px!important}}.recording-tip[data-v-a954affc]{position:fixed;top:20px;left:47vw;width:120px;height:50px;line-height:50px;color:#fff;background-color:rgba(188,39,39,.7019607843137254);border-radius:25px}.recording-tip img[data-v-a954affc]{margin:-5px 5px 0 0!important;width:20px!important}@media (max-width:1200px){.recording-tip[data-v-a954affc]{font-size:12px;height:30px;line-height:30px;width:80px}.recording-tip img[data-v-a954affc]{margin:-5px 5px 0 0!important;width:14px!important}}.red[data-v-a954affc]{color:#fff;background-color:#d44e4e!important}.red[data-v-a954affc]:hover{background-color:#b44b4b!important}.red a[data-v-a954affc]{color:#fff}.rotate[data-v-a954affc]{transform:rotate(135deg)}.grey-1[data-v-a954affc]{top:100px;color:#fff;background-color:#b7b7b7;font-size:27px}@media (max-width:1200px){.grey-1[data-v-a954affc]{top:75px}}.grey-2[data-v-a954affc]{color:#fff;background-color:#7b7b7b}.grey-2[data-v-a954affc]:hover{background-color:#606060}.framerate[data-v-a954affc]{top:225px}.disabled-button[data-v-a954affc]{color:#fff;cursor:not-allowed}.disabled-button[data-v-a954affc],.disabled-button[data-v-a954affc]:hover{background-color:#b7b7b7}.small-screen[data-v-a954affc]{height:188px;width:150px;position:absolute;bottom:30px;right:45px;overflow:hidden;border:1px solid #fff;border-radius:15px}.small-screen img[data-v-a954affc]{width:100%}.active-btn[data-v-a954affc]{color:#2173c9;background-color:#fff!important}.active-btn[data-v-a954affc]:hover{background-color:#eee}.lights-on[data-v-a954affc]{background-color:#fff!important}.lights-on[data-v-a954affc]:hover{background-color:#eee!important}.color-picker-component[data-v-a954affc]{margin-top:-46px;margin-left:-16px}.color-picker-component .upper[data-v-a954affc]{margin-top:30px;padding-top:10px;padding-left:10px;width:95px;height:95px;background-color:#222;border-radius:35px;border-bottom-left-radius:0;border-bottom-right-radius:0;position:relative;z-index:2}.color-picker-component .upper .upper-icon[data-v-a954affc]{height:75px;line-height:75px;width:75px;padding:6px;border-radius:50%}.color-picker-component .color-picker[data-v-a954affc]{width:150px;height:300px;margin-top:-10px!important;background-color:#222;border-radius:30px;border-top-left-radius:0;position:relative;z-index:1}.color-picker-component .color-picker .col-6 .colors[data-v-a954affc]{line-height:50px;margin:12.5px;border-radius:25px}.color-picker-component .color-picker-glasses[data-v-a954affc]{margin-left:-55px!important;border-top-left-radius:30px;border-top-right-radius:0}.brush-blue[data-v-a954affc]{color:#00b7ff;background-color:#00b7ff!important;border:1px solid #00b7ff}.brush-red[data-v-a954affc]{color:red;background-color:red!important;border:1px solid red}.brush-magenta[data-v-a954affc]{color:#f0c;background-color:#f0c!important;border:1px solid #f0c}.brush-orange[data-v-a954affc]{color:#f60;background-color:#f60!important;border:1px solid #f60}.brush-black[data-v-a954affc]{color:#000;background-color:#000!important;border:1px solid #fff}.brush-yellow[data-v-a954affc]{color:#ff0;background-color:#ff0!important;border:1px solid #ff0}.brush-white[data-v-a954affc]{color:#eee;background-color:#eee!important;border:1px solid #eee}.brush-green[data-v-a954affc]{color:#093;background-color:#093!important;border:1px solid #093}.arrow-section[data-v-a954affc]{position:absolute;width:100%;height:100%}.arrow[data-v-a954affc]{position:absolute!important;z-index:100;transition:top .5s linear}.arrow-blue[data-v-a954affc]{color:#00b7ff}.arrow-red[data-v-a954affc]{color:red}.arrow-magenta[data-v-a954affc]{color:#f0c}.arrow-orange[data-v-a954affc]{color:#f60}.arrow-black[data-v-a954affc]{color:#000;border:1px solid #fff}.arrow-yellow[data-v-a954affc]{color:#ff0}.arrow-white[data-v-a954affc]{color:#eee}.arrow-green[data-v-a954affc]{color:#093}.step-1 .upper-section .video-section[data-v-a954affc]{background-color:#313131}.step-1 .upper-section .video-section .video-container[data-v-a954affc]{width:100%;height:85vh;overflow:hidden}.step-1 .upper-section .video-section .video-container video[data-v-a954affc]{object-position:top;height:100%;width:100%;position:relative}.step-1 .upper-section .video-section .app-pause-section[data-v-a954affc]{color:#fff;font-size:24px}.step-1 .upper-section .video-section .vh-80[data-v-a954affc]{height:80vh}.step-1 .upper-section .video-section .minified[data-v-a954affc]{width:150px;overflow:hidden;z-index:999}.step-1 .upper-section .video-section .minified video[data-v-a954affc]{width:148px}.step-1 .upper-section .video-section img[data-v-a954affc]{margin-left:45px;width:100%}.step-1 .upper-section .video-section .brush-cursor[data-v-a954affc]{cursor:url("+s+") 0 40,pointer!important}.step-1 .upper-section .video-section .width-unset[data-v-a954affc]{width:unset!important}.step-1 .upper-section .video-section .recordCv[data-v-a954affc]{position:absolute;z-index:-100}.step-1 .lower-section[data-v-a954affc]{height:15vh;line-height:15vh}.step-1 .lower-section .function[data-v-a954affc]{z-index:99}.step-1 .lower-section .function .function-btn[data-v-a954affc]{height:67px;line-height:67px;width:67px;display:inline-block;padding:6px;border-radius:50%;cursor:pointer}@media (max-width:576px){.step-1 .lower-section .function .function-btn[data-v-a954affc]{height:40px;line-height:40px;width:40px;font-size:16px!important}}.step-1 .lower-section .function .grey-1[data-v-a954affc]{color:#fff;background-color:#606060;font-size:24px}.step-1 .lower-section .function .white[data-v-a954affc]{background-color:#fff;font-size:24px}.step-1 .lower-section .function .red[data-v-a954affc]{color:#fff;border:1px solid #d44e4e;background-color:#d44e4e;font-size:24px}.step-1 .lower-section .function .red[data-v-a954affc]:hover{border:1px solid #b44b4b;background-color:#b44b4b}.step-1 .lower-section .function .blue[data-v-a954affc]{color:#2173c9;background-color:#fff!important}.step-1 .lower-section .function .blue[data-v-a954affc]:hover{background-color:#eee}.step-1 .lower-section .function .disabled-button[data-v-a954affc]{color:#fff;background-color:#b7b7b7;cursor:not-allowed}.step-1 .lower-section .function .disabled-button[data-v-a954affc]:hover{background-color:#b7b7b7}.step-1 .lower-section .function .undo img[data-v-a954affc]{width:30px}@media (max-width:576px){.step-1 .lower-section .function .undo img[data-v-a954affc]{width:20px}}.step-1 .lower-section .function .flashlight[data-v-a954affc]{width:20px!important}@media (max-width:576px){.step-1 .lower-section .function .flashlight[data-v-a954affc]{width:12px!important}}.step-1 .lower-section .function .recording[data-v-a954affc]{margin-top:-5px;width:30px!important}@media (max-width:576px){.step-1 .lower-section .function .recording[data-v-a954affc]{margin-top:-5px;width:20px!important}}.step-1 .lower-section .function .draw-tools[data-v-a954affc]{position:relative;display:inline-block;background-color:#444;border-radius:15px;height:105px;line-height:110px;padding:0 15px}@media (max-width:576px){.step-1 .lower-section .function .draw-tools[data-v-a954affc]{height:80px;line-height:80px}}.step-1 .lower-section .function .draw-tools .draw-function-btn[data-v-a954affc]{display:inline-block;height:67px;line-height:77px;width:67px;border-radius:50%;cursor:pointer;background-color:#666}.step-1 .lower-section .function .draw-tools .draw-function-btn[data-v-a954affc]:hover{background-color:#555}@media (max-width:576px){.step-1 .lower-section .function .draw-tools .draw-function-btn[data-v-a954affc]{height:40px;line-height:43px;width:40px;font-size:12px!important}.step-1 .lower-section .function .draw-tools .draw-function-btn svg[data-v-a954affc]{font-size:20px}}.step-1 .lower-section .function .draw-tools .draw-function-btn img[data-v-a954affc]{margin-top:-15px;width:30px}@media (max-width:576px){.step-1 .lower-section .function .draw-tools .draw-function-btn img[data-v-a954affc]{margin-top:-7px;width:20px}}.step-1 .lower-section .function .draw-tools .color-picker[data-v-a954affc]{margin-top:20px}.step-1 .lower-section .function .draw-tools .color-picker-component[data-v-a954affc]{position:absolute;bottom:100%;left:0}.step-1 .lower-section .function .draw-tools .color-picker-component .color-picker-list[data-v-a954affc]{background-color:hsla(0,0%,100%,.6);border-radius:15px;padding:6px 12px;margin:0 0 0 16px}.step-1 .lower-section .function .draw-tools .color-picker-component .color-picker-list .col-3 .colors[data-v-a954affc]{width:50px;height:50px;line-height:50px;margin:4px 12px;border-radius:25px;cursor:pointer}@media (max-width:576px){.step-1 .lower-section .function .draw-tools .color-picker-component .color-picker-list .col-3 .colors[data-v-a954affc]{width:40px;height:40px;margin:3px}}.step-1 .lower-section .function .draw-tools .tool-picker[data-v-a954affc]{color:#666;background-color:#fff}.step-1 .lower-section .function .draw-tools .tool-picker[data-v-a954affc]:hover{background-color:#eee}.step-1 .lower-section .function .draw-tools .divider[data-v-a954affc]{display:inline-block;height:50px;vertical-align:middle;border-left:1px solid #666;margin-top:-10px}.step-1 .lower-section .function .draw-tools .curve-tools[data-v-a954affc]{margin-left:-15px;position:absolute;bottom:100%;height:66px;line-height:60px;background-color:hsla(0,0%,100%,.6);border-radius:15px;padding:0 15px}.step-1 .lower-section .function .draw-tools .curve-tools .curve-function-btn[data-v-a954affc]{display:inline-block;height:58px;width:58px;border-radius:50%;cursor:pointer;color:#fff;background-color:#666;vertical-align:middle}.step-1 .lower-section .function .draw-tools .curve-tools .curve-function-btn[data-v-a954affc]:hover{background-color:#555;transition:all .5s ease}.step-1 .lower-section .function .draw-tools .curve-tools .curve-function-btn.active[data-v-a954affc]{background-color:#fff;color:#666}.step-1 .lower-section .function .draw-tools .curve-tools .curve-function-btn.active[data-v-a954affc]:hover{background-color:#eee}.step-1 .lower-section .function .draw-tools .curve-tools .curve-function-btn img[data-v-a954affc]{margin-top:-8px;width:30px}@media (max-width:576px){.step-1 .lower-section .function .draw-tools .curve-tools .curve-function-btn img[data-v-a954affc]{margin-top:-24px;width:20px}}@media (max-width:576px){.step-1 .lower-section .function .draw-tools .curve-tools .curve-function-btn[data-v-a954affc]{width:40px;height:40px}}.step-1 .lower-section .function .draw-tools .curve-tools .freehand svg[data-v-a954affc]{font-size:25px;top:18px;right:30px}@media (max-width:576px){.step-1 .lower-section .function .draw-tools .curve-tools .freehand svg[data-v-a954affc]{position:absolute;font-size:20px;top:24px;right:26px}}.step-1 .lower-section .function .draw-tools .curve-tools .freehand.active[data-v-a954affc]{background-color:#fff;color:#666}.step-1 .lower-section .function .draw-tools .curve-tools .freehand.active[data-v-a954affc]:hover{background-color:#eee}@media (max-width:576px){.step-1 .lower-section .function .draw-tools .curve-tools[data-v-a954affc]{padding:0 11px}}.loader[data-v-a954affc]{margin-top:300px}.cancel-capture[data-v-a954affc]{width:600px;position:absolute;color:#fff;top:50px;z-index:999}.screen-capture-section[data-v-a954affc]{margin:100px 0;width:40vw}.screen-capture-section .checkbox-list input[type=checkbox][data-v-a954affc]{display:none}.screen-capture-section .checkbox-list input[type=checkbox]:checked~label[data-v-a954affc]{background-color:#fff;color:#2173c9}.screen-capture-section .checkbox-list img[data-v-a954affc]{width:100%;border-radius:15px;margin-bottom:30px}.screen-capture-section .checkbox-list label[data-v-a954affc]{color:#fff;width:50px;height:50px;border-radius:50%;position:absolute;margin-left:-60px;bottom:30px;cursor:pointer}.screen-capture-section .checkbox-list label svg[data-v-a954affc]{margin-top:1px}.top-210[data-v-a954affc]{margin-top:210px}.footer[data-v-a954affc]{height:100px;width:100%;position:fixed;bottom:0;background-color:hsla(0,0%,78.4%,.3);backdrop-filter:blur(25px);-webkit-backdrop-filter:blur(25px)}.footer .button-section[data-v-a954affc]{width:600px;padding:0 15px}.footer .button-section .ra-confirm-btn-alt[data-v-a954affc]{width:125px!important}.auth-alert[data-v-a954affc]{width:20vw;height:120px;padding:35px 50px;color:#fff;background-color:rgba(0,0,0,.6);border-radius:10px;border:none;position:fixed;top:10vh;left:40vw;letter-spacing:2px}@media (max-width:1440px){.auth-alert[data-v-a954affc]{width:28vw;padding:40px 20px;left:36vw}}.no-bg[data-v-a954affc]{background-color:transparent}.download-alert[data-v-a954affc]{width:12vw;height:50px;background-color:#fff;box-shadow:0 3px 6px rgba(0,0,0,.1607843137254902);border-radius:25px;position:fixed;top:50vh;left:44vw}@media (max-width:1440px){.download-alert[data-v-a954affc]{width:20vw;left:40vw}}.download-alert .green-icon[data-v-a954affc]{color:#3fb182}.download-alert-alt[data-v-a954affc]{width:20vw;height:50px;color:#fff;background-color:rgba(0,0,0,.7019607843137254);border:1px solid rgba(0,0,0,.7019607843137254);box-shadow:0 3px 6px rgba(0,0,0,.1607843137254902);border-radius:25px;position:fixed;top:5vh;left:40vw}@media (max-width:1440px){.download-alert-alt[data-v-a954affc]{width:30vw;left:40vw}}.download-alert-alt .green-icon[data-v-a954affc]{color:#3fb182}.call[data-v-a954affc]{-webkit-user-select:none;-moz-user-select:none;-o-user-select:none;user-select:none}.call.black[data-v-a954affc],.ra-main-content[data-v-a954affc]{background-color:#313131}.ra-main-content[data-v-a954affc]{height:100vh;color:#fff}.ra-main-content .activating[data-v-a954affc]{color:#fff;font-size:24px;margin-top:40vh}.ra-main-content .icon-round[data-v-a954affc]{margin-top:100px;height:75px;line-height:75px;width:75px;padding:6px;border-radius:50%}@media screen and (max-height:800px){.ra-main-content .icon-round[data-v-a954affc]{margin-top:0}}.ra-main-content .icon-rect[data-v-a954affc]{margin-top:10vh;height:70px;line-height:70px;width:160px;padding:6px;border-radius:35px}.ra-main-content .icon-rect svg[data-v-a954affc]{height:32px}@media screen and (max-height:800px){.ra-main-content .icon-rect[data-v-a954affc]{margin-top:0}}.ra-main-content .red[data-v-a954affc]{border:1px solid #d44e4e;background-color:#d44e4e}.ra-main-content .red[data-v-a954affc]:hover{border:1px solid #b44b4b;background-color:#b44b4b}.ra-main-content .grey-1[data-v-a954affc]{top:100px;background-color:#b7b7b7;font-size:27px}.ra-main-content .grey-2[data-v-a954affc]{background-color:#7b7b7b}.ra-main-content .grey-2[data-v-a954affc]:hover{background-color:#606060}.ra-main-content .green[data-v-a954affc]{color:#fff;background-color:#3fb182}.ra-main-content .green[data-v-a954affc]:hover{background-color:#37926c}.ra-main-content .status[data-v-a954affc]{font-size:24px}.ra-main-content .user-name[data-v-a954affc]{font-size:36px}@media screen and (max-height:720px){.ra-main-content svg[data-v-a954affc]{margin-top:10px!important;font-size:80px}}.ra-main-content .loading[data-v-a954affc]{display:inline-block;position:relative;width:40px;height:38px}.ra-main-content .loading div[data-v-a954affc]{position:absolute;top:33px;width:8px;height:8px;border-radius:50%;background:#fff;animation-timing-function:cubic-bezier(0,1,1,0)}.ra-main-content .loading div[data-v-a954affc]:first-child{left:8px;animation:loading1-data-v-a954affc .6s infinite}.ra-main-content .loading div[data-v-a954affc]:nth-child(2){left:8px;animation:loading2-data-v-a954affc .6s infinite}.ra-main-content .loading div[data-v-a954affc]:nth-child(3){left:32px;animation:loading2-data-v-a954affc .6s infinite}.ra-main-content .loading div[data-v-a954affc]:nth-child(4){left:56px;animation:loading3-data-v-a954affc .6s infinite}@keyframes loading1-data-v-a954affc{0%{transform:scale(0)}to{transform:scale(1)}}@keyframes loading3-data-v-a954affc{0%{transform:scale(1)}to{transform:scale(0)}}@keyframes loading2-data-v-a954affc{0%{transform:translate(0)}to{transform:translate(21px)}}.send-file-modal[data-v-a954affc]{z-index:99999;position:fixed;bottom:100px;left:40vw;padding:30px;background-color:#fff;border-radius:20px}[data-v-a954affc] .modal-header{margin:auto}[data-v-a954affc] .download-progress{margin:30px auto}#cv[data-v-a954affc],#cvCover[data-v-a954affc]{position:absolute;top:0;left:0;margin:0 auto;right:0}",""]),t.exports=e},"71a0":function(t,e,a){"use strict";a("c8a1")},c8a1:function(t,e,a){var i=a("4dc5");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("499e").default;o("05efceda",i,!0,{sourceMap:!1,shadowMode:!1})},caad:function(t,e,a){"use strict";var i=a("23e7"),o=a("4d64").includes,n=a("44d2");i({target:"Array",proto:!0},{includes:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),n("includes")}}]);
//# sourceMappingURL=chunk-2f218d65.6e0464a5.js.map